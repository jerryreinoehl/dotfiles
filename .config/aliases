# ============================================================================
# aliases
# ============================================================================

# ----------------------------------------------------------------------------
# grep
# ----------------------------------------------------------------------------
alias grep='grep --color=auto'
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
__alias_find_iname() { find . -iname "*$1*" | grep -i --color=always "$1"; }
alias \?=__alias_find_iname
alias \?\?='grep -Eirn --color=always'

# ----------------------------------------------------------------------------
# ls/exa
# ----------------------------------------------------------------------------
if command -v exa > /dev/null; then
    alias ls='exa --group-directories-first'
    alias l='ls -aF'
    alias ll='l -bgl --time-style long-iso --color-scale'
    alias l1='l -1'
    alias lt='l --tree'
    alias llt='lt -l'
else
    alias ls='ls --group-directories-first --color=auto'
    alias l='ls -vAF'
    alias ll='l -hl'
    alias l1='l -1'
    alias lt='l -R'
    alias llt='lt -l'
fi

# ----------------------------------------------------------------------------
# navigation
# ----------------------------------------------------------------------------
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias ......='cd ../../../../..'
alias ..2='cd ../..'
alias ..3='cd ../../..'
alias ..4='cd ../../../..'
alias ..5='cd ../../../../..'
alias .-='cd -'

# ----------------------------------------------------------------------------
# update
# ----------------------------------------------------------------------------
alias syu='sudo pacman -Syu'
alias update='sudo apt -y update && sudo apt -y upgrade && apt moo'

# ----------------------------------------------------------------------------
# misc
# ----------------------------------------------------------------------------
alias less='less -FRX'
alias ip='COLORFGBG=";0" ip -c'
alias v='vim'
alias vi='vim'
alias :q='exit'

# ----------------------------------------------------------------------------
# misc functions
# ----------------------------------------------------------------------------
# Backup files and/or directories.
bak() {
  for file in "$@"; do
    file="${file%/}" # strip trailing '/'
    if [[ -e "$file" ]]; then
      [[ -e "$file.bak" ]] && rm -r "$file.bak"
      cp -r "$file" "$file.bak"
    fi
  done
}

# Restore files and/or directories.
unbak() {
  for file in "$@"; do
    file="${file%/}" # strip trailing '/'
    if [[ "$file" == *.bak ]]; then
      [[ -e "${file%.bak}" ]] && rm -r "${file%.bak}"
      mv "$file" "${file%.bak}"
    fi
  done
}
